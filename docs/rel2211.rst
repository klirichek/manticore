.. raw:: html

   <div class="navheader">

A.3. Version 2.2.11-release, 19 jul 2016
`Prev <rel231.html>`__ 
Appendix A. Sphinx revision history
 `Next <rel2210.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage">

.. raw:: html

   <div>

.. raw:: html

   <div>

.. rubric:: A.3. Version 2.2.11-release, 19 jul 2016
   :name: a.3.version-2.2.11-release-19-jul-2016
   :class: title

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. rubric:: Bug fixes
   :name: bug-fixes

.. raw:: html

   <div class="itemizedlist">

-  fixed `#2499 <http://sphinxsearch.com/bugs/view.php?id=2499>`__ crash
   of daemon at phrase node with star shift; added regressions to test
   41

-  Backported RE2 patch and solutions from master

-  fixed `#2488 <http://sphinxsearch.com/bugs/view.php?id=2488>`__
   performance issue with matching hitless terms

-  fixed `#2498 <http://sphinxsearch.com/bugs/view.php?id=2498>`__ wrong
   profiling report (was filter instead get\_hits)

-  fixed `#2497 <http://sphinxsearch.com/bugs/view.php?id=2497>`__
   windows service does not handle system shutdown

-  fixed `#2484 <http://sphinxsearch.com/bugs/view.php?id=2484>`__
   plugin ranker at distributed index, crash of daemon in case no plugin
   at agent and check of cache

-  fixed `#2495 <http://sphinxsearch.com/bugs/view.php?id=2495>`__
   filtering by false/true/null values without using aliases

-  fixed `#2484 <http://sphinxsearch.com/bugs/view.php?id=2484>`__
   plugin ranker and token\_filter work with distributed index; set
   master ver to 14

-  fixed `#2485 <http://sphinxsearch.com/bugs/view.php?id=2485>`__
   client failed to parse reply with string\_ptr attribute via API;
   added regression to test 159

-  fixed `#2462 <http://sphinxsearch.com/bugs/view.php?id=2462>`__ added
   OPTION statements to SphinxQL log fixed string split buffer overrun

-  fixed `#2458 <http://sphinxsearch.com/bugs/view.php?id=2458>`__
   expression with escaped quote was cut at distributed index; added
   regressions to test 125

-  fixed `#2459 <http://sphinxsearch.com/bugs/view.php?id=2459>`__
   incorrect indexer exit code for indexing multiple indexes

-  fixed `#2452 <http://sphinxsearch.com/bugs/view.php?id=2452>`__ group
   by aliased JSON array

-  optimized sphWildcardMatch (UTF-8 vs ASCII)

-  fixed `#2451 <http://sphinxsearch.com/bugs/view.php?id=2451>`__ UTF-8
   support for extended wildcards (?, %)

-  fixed `#2434 <http://sphinxsearch.com/bugs/view.php?id=2434>`__
   multiple declaration of same attribute breaks \*sv pipe data sources
   and index; added test 257

-  fixed `#2437 <http://sphinxsearch.com/bugs/view.php?id=2437>`__
   64-bit values comparison for ALL/ANY/INDEXOF functions

-  fixed `#2434 <http://sphinxsearch.com/bugs/view.php?id=2434>`__ field
   modifier error for over-short word; added regression to test 211

-  fixed `#2435 <http://sphinxsearch.com/bugs/view.php?id=2435>`__ added
   HAVING statement to sphinxql query log

-  fixed `#2433 <http://sphinxsearch.com/bugs/view.php?id=2433>`__ crash
   of indexer for csv source with escaped quote inside quotation; added
   regression to tests

-  fixed `#2431 <http://sphinxsearch.com/bugs/view.php?id=2431>`__
   indexer crash on multiple escape chars at csv source; added
   regression to tests

-  backported svn:r5092 git:3b5bf10bb852e992f4e02d6f379899413549b5fe

-  fixed `#2429 <http://sphinxsearch.com/bugs/view.php?id=2429>`__ crash
   of service threads has no crash log

-  fixed `#2416 <http://sphinxsearch.com/bugs/view.php?id=2416>`__ crash
   of daemon on hit stream with wrong qpos; fixed tests 184, 251

-  fixed `#2427 <http://sphinxsearch.com/bugs/view.php?id=2427>`__ no
   warnings for short wildcards inside word; added regressions to test
   173

-  fixed `#2420 <http://sphinxsearch.com/bugs/view.php?id=2420>`__
   count(\*) statement vs space characters at facet; added cases to test
   226

-  fixed `#2209 <http://sphinxsearch.com/bugs/view.php?id=2209>`__
   prohibited order by MVA, backported from master, added error message;
   fixed tests 20, 180

-  fixed `#2419 <http://sphinxsearch.com/bugs/view.php?id=2419>`__
   ATTACH RT index missed doc-id duplicates for id32; fixed test 187

-  fixed `#2421 <http://sphinxsearch.com/bugs/view.php?id=2421>`__
   daemon crash on complex query with field start and quorum operators

-  fixed `#2417 <http://sphinxsearch.com/bugs/view.php?id=2417>`__
   destination wordform from multiform was stemmed; added regressions to
   test 22

-  fixed `#2419 <http://sphinxsearch.com/bugs/view.php?id=2419>`__
   ATTACH RT index missed doc-id duplicates; added regression to test
   184

-  fixed `#2418 <http://sphinxsearch.com/bugs/view.php?id=2418>`__
   wildcards do not work at snippets beside star; added cases to test 40

-  fixed `#2406 <http://sphinxsearch.com/bugs/view.php?id=2406>`__ ALTER
   RECONFIGURE mess with wordforms due to wrong creation order; added
   regression to test 255

-  fixed `#2405 <http://sphinxsearch.com/bugs/view.php?id=2405>`__ crash
   of daemon on quorum query with duplicates from expand\_keywords;
   added regression to test 54

-  fixed `#2404 <http://sphinxsearch.com/bugs/view.php?id=2404>`__ ok
   reply for ALTER query to missed index; added regression to test 213

-  fixed `#2394 <http://sphinxsearch.com/bugs/view.php?id=2394>`__ multi
   query with profiling enabled; added statements SET, SHOW PLAN, SHOW
   profile to multi query; added regression to test 113; fixed ubertest
   to clean up multi query result sets

-  fixed `#2398 <http://sphinxsearch.com/bugs/view.php?id=2398>`__ lcs
   calculation for large delta positions; added regression to tests 175,
   68

-  fixed `#2399 <http://sphinxsearch.com/bugs/view.php?id=2399>`__ crash
   of daemon for query with json attribute at HAVING; added regressions
   to test 171

-  fixed `#2397 <http://sphinxsearch.com/bugs/view.php?id=2397>`__
   inplace JSON update for several 64-bit values

-  fixed `#1415 <http://sphinxsearch.com/bugs/view.php?id=1415>`__
   (destination tokens in wordforms couldn’t be stopwords)

-  fixed `#2315 <http://sphinxsearch.com/bugs/view.php?id=2315>`__ crash
   of daemon on rotating config without indexes

-  fixed `#14 <http://sphinxsearch.com/bugs/view.php?id=14>`__ (github)
   RT index without any attribute; fixed tests 88, 175, 181, 192

-  fixed `#2389 <http://sphinxsearch.com/bugs/view.php?id=2389>`__
   indextool now reports on empty segment of RT index at check mode

-  fixed `#2383 <http://sphinxsearch.com/bugs/view.php?id=2383>`__ wrong
   indexer exit cqode with nohup option

-  fixed `#2365 <http://sphinxsearch.com/bugs/view.php?id=2365>`__
   multiple sysvars support in select statement (for Connector/J
   5.1.36+)

-  fixed `#2363 <http://sphinxsearch.com/bugs/view.php?id=2363>`__ ping
   to bad ha mirror pause accept thread at daemon

-  fixed `#2376 <http://sphinxsearch.com/bugs/view.php?id=2376>`__
   json-dependent columns vs is null and order by

-  fixed `#2355 <http://sphinxsearch.com/bugs/view.php?id=2355>`__
   result set missed SNIPPET expression calc for query with offset;
   added regressions to test 143

-  fixed JSON type conversion, fixed memory leak, updated test 206

-  fixed `#2375 <http://sphinxsearch.com/bugs/view.php?id=2375>`__ json
   field type autoconversion in expressions

-  fixed `#2363 <http://sphinxsearch.com/bugs/view.php?id=2363>`__ ping
   to bad ha mirror pause accept thread at daemon; fixed missed
   statistics lock

-  fixed `#2373 <http://sphinxsearch.com/bugs/view.php?id=2373>`__ group
   by 1-character json field, updated test 206

-  fixed crash log time double setup from previous commit

-  fixed `#2363 <http://sphinxsearch.com/bugs/view.php?id=2363>`__ ping
   to bad ha mirror pause accept thread at daemon (affects all workers
   but not prefork), moved ping to a separate thread

-  fixed `#2364 <http://sphinxsearch.com/bugs/view.php?id=2364>`__
   case-sensitive fields support for distributed indexes

-  fixed `#2361 <http://sphinxsearch.com/bugs/view.php?id=2361>`__
   daemon crash with quorum operator; added warning on replacing quorum
   operator

-  fixed `#2359 <http://sphinxsearch.com/bugs/view.php?id=2359>`__ agent
   balancing added tests on balancing fixed ping to affect only counters
   but not timings fixed network statistics aggregation fixed timeout
   exit on reading agent reply fixed mirror statistics output to be more
   consistent added feature log\_debug\_filter to log only matched
   messages

-  fixed `#2356 <http://sphinxsearch.com/bugs/view.php?id=2356>`__ added
   error handling for large (>0x400000 bytes) JSON fields

-  fixed `#2348 <http://sphinxsearch.com/bugs/view.php?id=2348>`__
   max\_matches option did not affect facet queries

-  fixed `#2337 <http://sphinxsearch.com/bugs/view.php?id=2337>`__ crash
   of indexer on indexing large data passed regexp\_filter; added
   regression to test 194

-  fixed `#2336 <http://sphinxsearch.com/bugs/view.php?id=2336>`__ field
   modifiers assigned improperly for query with multi destination
   wordforms; added regressions to test 22

-  fixed `#2341 <http://sphinxsearch.com/bugs/view.php?id=2341>`__ crash
   of daemon with memory corruption at query to multiple indexes with
   pool attributes; added regression to test 159

-  fixed `#2339 <http://sphinxsearch.com/bugs/view.php?id=2339>`__
   indexer crashed on lemma length overflow; added regression to test
   207

-  fixed `#1912 <http://sphinxsearch.com/bugs/view.php?id=1912>`__
   indextool memory usage during check of huge index (skiplist keep on
   disk and docid list variants to use less memory)

-  added string list filter; set master version to 12, API protocol
   version to 1.31 fixed
   `#2334 <http://sphinxsearch.com/bugs/view.php?id=2334>`__ daemon
   crash on filtering by string column via API; fixed string values IN()
   filter for distributed index; added regression to tests 60, 125

-  fixed `#2296 <http://sphinxsearch.com/bugs/view.php?id=2296>`__ wrong
   snippet produced from wordforms with multiple destination tokens and
   AOT dictionary; added regressions to test 223

-  fixed `#1675 <http://sphinxsearch.com/bugs/view.php?id=1675>`__
   ZONESPAN was silently ignored with BEFORE operator, added warning

-  fixed `#2329 <http://sphinxsearch.com/bugs/view.php?id=2329>`__ slow
   wildcard matching (star vs long terms might took above 100 seconds);
   added regressions to tests

-  fixed `#2323 <http://sphinxsearch.com/bugs/view.php?id=2323>`__
   missed field id at packedfactors with json enabled output; fixed
   model at test 217

-  fixed test 125, enabled back regression

-  fixed `#2325 <http://sphinxsearch.com/bugs/view.php?id=2325>`__ false
   positive result of indextool check mode for bad index with crc
   dictionary

-  fixed `#2324 <http://sphinxsearch.com/bugs/view.php?id=2324>`__
   daemon crash on handle query via api with empty select list to
   indexes with dissimilar structure; added regression to test 113

-  fixed JSON mapping from the previous commit (consumes less memory
   this way)

-  fixed `#2320 <http://sphinxsearch.com/bugs/view.php?id=2320>`__ rt
   index crashes on groupby() for large JSON fields

-  fixed indextool –check vs nested JSON objects

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+-----------------------------------------+---------------------------+---------------------------------------------+
| `Prev <rel231.html>`__                  | `Up <changelog.html>`__   |  `Next <rel2210.html>`__                    |
+-----------------------------------------+---------------------------+---------------------------------------------+
| A.2. Version 2.3.1-beta, 03 mar 2015    | `Home <index.html>`__     |  A.4. Version 2.2.10-release, 07 sep 2015   |
+-----------------------------------------+---------------------------+---------------------------------------------+

.. raw:: html

   </div>
