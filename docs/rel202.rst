.. raw:: html

   <div class="navheader">

A.32. Version 2.0.2-beta, 15 nov 2011
`Prev <rel203.html>`__ 
Appendix A. Sphinx revision history
 `Next <rel201.html>`__

--------------

.. raw:: html

   </div>

.. raw:: html

   <div class="sect1">

.. raw:: html

   <div class="titlepage">

.. raw:: html

   <div>

.. raw:: html

   <div>

.. rubric:: A.32. Version 2.0.2-beta, 15 nov 2011
   :name: a.32.version-2.0.2-beta-15-nov-2011
   :class: title

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   </div>

.. rubric:: Major new features
   :name: major-new-features

.. raw:: html

   <div class="itemizedlist">

-  added keywords dictionary (```dict=keywords`` <conf-dict.html>`__)
   support to RT indexes

-  added `MVA <conf-rt-attr-multi.html>`__,
   `index\_exact\_words <conf-index-exact-words.html>`__ support to RT
   indexes (#888)

-  added `MVA64 <mva.html>`__ (a set of BIGINTs) support to both disk
   and RT indexes (`rt\_attr\_multi\_64 <conf-rt-attr-multi-64.html>`__
   directive)

-  added an `expression-based ranker <expression-ranker.html>`__, and a
   number of new ranking factors

-  added `ATTACH INDEX <sphinxql-attach-index.html>`__ statement that
   converts a disk index to RT index

-  added ``WHERE`` clause support to `UPDATE <sphinxql-update.html>`__
   statement

-  added ``bigint``, ``float``, and ``MVA`` attribute support to
   `UPDATE <sphinxql-update.html>`__ statement

.. raw:: html

   </div>

.. rubric:: New features
   :name: new-features

.. raw:: html

   <div class="itemizedlist">

-  added support for upto `256 searchable fields <fields.html>`__ (was
   upto 32 before)

-  added
   ```FIBONACCI()`` <numeric-functions.html#expr-func-fibonacci>`__
   function to `expressions <expressions.html>`__

-  added `load\_files\_scattered option <api-func-buildexcerpts.html>`__
   to snippets

-  added implicit attribute type promotions in multi-index result sets
   (#939)

-  added index names to ``indexer`` progress message on merge (#928)

-  added ```--replay-flags`` <ref-searchd.html>`__ switch to ``searchd``

-  added string attribute support and a few previously missing `snippets
   options <sphinxse-snippets.html>`__ to SphinxSE

-  added previously missing ```Status()`` <api-func-status.html>`__,
   ```SetConnectTimeout()`` <api-func-setconnecttimeout.html>`__ API
   calls to Python API

-  added ``ORDER BY RAND()`` support to
   `SELECT <sphinxql-select.html>`__ statement

-  added Sphinx version to Windows crash log

-  added RT index support to `indextool <ref-indextool.html>`__
   ``--check`` (checks disk chunks only) (#877)

-  added ``prefork_rotation_throttle`` directive (preforked children
   restart delay, in milliseconds) (#873)

-  added `on\_file\_field\_error <conf-on-file-field-error.html>`__
   directive (different ``sql_file_field`` handling modes)

-  added manpages for all the programs

-  added syslog logging support

-  added sentence, paragraph, and zone support in
   ``html_strip_mode=retain`` mode to snippets

-  optimized search performance with many ``ZONE`` operators

-  improved suggestion tool (added Levenshtein limit, removed extra DB
   fetch)

-  improved `sentence extraction <conf-index-sp.html>`__ (handles
   salutations, starting initials better now)

-  changed `max\_filter\_values <conf-max-filter-values.html>`__ sanity
   check to 10M values

.. raw:: html

   </div>

.. rubric:: New SphinxQL features
   :name: new-sphinxql-features

.. raw:: html

   <div class="itemizedlist">

-  added `FLUSH RTINDEX <sphinxql-flush-rtindex.html>`__ statement

-  added ``dist_threads`` directive (parallel processing),
   ``load_files``, ``load_files_scattered``, batch syntax (multiple
   documents) support to `CALL SNIPPETS <sphinxql-call-snippets.html>`__
   statement

-  added ``OPTION comment='...'`` support to
   `SELECT <sphinxql-select.html>`__ statement (#944)

-  added `SHOW VARIABLES <sphinxql-show-variables.html>`__ statement

-  added dummy handlers for `SET
   TRANSACTION <sphinxql-set-transaction.html>`__, `SET
   NAMES <sphinxql-set.html>`__, `SELECT
   @@sysvar <sphinxql-select.html>`__ statements, and for
   ``sql_auto_is_null``, ``sql_mode``, and @@-style variables (like
   @@tx\_isolation) in `SET <sphinxql-set.html>`__ statement (better
   MySQL frameworks/connectors support)

-  added complete `SphinxQL error logging <sphinxql-log-format.html>`__
   (all errors are logged now, not just ``SELECT``\ s)

-  improved `SELECT <sphinxql-select.html>`__ statement syntax, made
   expressions aliases optional

.. raw:: html

   </div>

.. rubric:: Bug fixes
   :name: bug-fixes

.. raw:: html

   <div class="itemizedlist">

-  fixed `#982 <http://sphinxsearch.com/bugs/view.php?id=982>`__, empty
   binlogs prevented upgraded daemon from starting up

-  fixed `#978 <http://sphinxsearch.com/bugs/view.php?id=978>`__,
   libsphinxclient build failed on sparc/sparc64 solaris

-  fixed `#977 <http://sphinxsearch.com/bugs/view.php?id=977>`__,
   eliminated (most) compiler warnings

-  fixed `#969 <http://sphinxsearch.com/bugs/view.php?id=969>`__, broken
   expression MVA/string argument type check prevented IF(IN(mva..)) and
   other valid expressions from working

-  fixed `#966 <http://sphinxsearch.com/bugs/view.php?id=966>`__, NOT IN
   @global\_var syntax was not supported

-  fixed `#958 <http://sphinxsearch.com/bugs/view.php?id=958>`__,
   mem\_limit over INT\_MAX was not clamped

-  fixed `#954 <http://sphinxsearch.com/bugs/view.php?id=954>`__, UTF-8
   snippets could crash on malformed data

-  fixed `#951 <http://sphinxsearch.com/bugs/view.php?id=951>`__, UTF-8
   snippets could hang on malformed data

-  fixed `#947 <http://sphinxsearch.com/bugs/view.php?id=947>`__, bad
   float column type was reported via SphinxQL, breaking some clients

-  fixed `#940 <http://sphinxsearch.com/bugs/view.php?id=940>`__,
   group-by with a small enough ``max_matches`` limit could occasionaly
   crash and/or sort wrongly

-  fixed `#932 <http://sphinxsearch.com/bugs/view.php?id=932>`__,
   sending huge queries to agents occasionally failed (mainly on
   Windows)

-  fixed `#926 <http://sphinxsearch.com/bugs/view.php?id=926>`__,
   snippets did not highlight widlcard matches with morphology enabled

-  fixed `#918 <http://sphinxsearch.com/bugs/view.php?id=918>`__, crash
   logger did not report a proper query in ``dist_threads`` case

-  fixed `#916 <http://sphinxsearch.com/bugs/view.php?id=916>`__,
   watchdog caused (endless) respawns if there was a crash during
   shutdown

-  fixed `#904 <http://sphinxsearch.com/bugs/view.php?id=904>`__,
   attribute names were not forcibly case-folded in some API calls (eg.
   ``SetGroupDistinct``)

-  fixed `#902 <http://sphinxsearch.com/bugs/view.php?id=902>`__, query
   parser did not support ``stopword_step=0``

-  fixed `#897 <http://sphinxsearch.com/bugs/view.php?id=897>`__,
   network sockets dangled (open but unattended) while replaying binlog

-  fixed `#855 <http://sphinxsearch.com/bugs/view.php?id=855>`__,
   ``allow_empty`` option in snippets did not always work correctly

-  fixed `#854 <http://sphinxsearch.com/bugs/view.php?id=854>`__,
   indexing with many ``bigint`` attributes and ``docinfo=inline``
   crashed

-  fixed `#838 <http://sphinxsearch.com/bugs/view.php?id=838>`__, RT MVA
   insertion did not sort MVA values, caused matching issues

-  fixed `#833 <http://sphinxsearch.com/bugs/view.php?id=833>`__,
   duplicate MVA values were not eliminated on update

-  fixed `#832 <http://sphinxsearch.com/bugs/view.php?id=832>`__,
   certain (overshort/incorrect) documents crashed indexing MS SQL
   Unicode columns

-  fixed `#829 <http://sphinxsearch.com/bugs/view.php?id=829>`__, query
   parser did not properly handle numerics with ``blend_chars``

-  fixed `#814 <http://sphinxsearch.com/bugs/view.php?id=814>`__,
   group-by string attributes in RT indexes dit not always work
   correctly

-  fixed `#812 <http://sphinxsearch.com/bugs/view.php?id=812>`__, utf8
   stemming produced unexpected stems on words with single-byte chars

-  fixed `#808 <http://sphinxsearch.com/bugs/view.php?id=808>`__, huge
   queries crashed logging with ``query_log_format=sphinxql``

-  fixed `#806 <http://sphinxsearch.com/bugs/view.php?id=806>`__, stray
   single-star keyword crashed on querying

-  fixed `#798 <http://sphinxsearch.com/bugs/view.php?id=798>`__,
   snippets ignored ``index_exact_words`` in query\_mode

-  fixed `#797 <http://sphinxsearch.com/bugs/view.php?id=797>`__, RT
   klist loader had an occasional off-by-one crash

-  fixed `#791 <http://sphinxsearch.com/bugs/view.php?id=791>`__,
   ``preopen_indexes`` erroneously defaulted to 0 on Windows

-  fixed `#790 <http://sphinxsearch.com/bugs/view.php?id=790>`__, huge
   dictionaries (over 4 GB) did not work

-  fixed `#786 <http://sphinxsearch.com/bugs/view.php?id=786>`__,
   ``inplace_enable`` could occasionally corrupt the indexes

-  fixed `#775 <http://sphinxsearch.com/bugs/view.php?id=775>`__, doc
   had a typo (soundex vs metaphone)

-  fixed `#772 <http://sphinxsearch.com/bugs/view.php?id=772>`__,
   snippets duplicated blended chars on a SPZ boundary

-  fixed `#762 <http://sphinxsearch.com/bugs/view.php?id=762>`__, query
   parser truncated digit-only keywords over 15 digits

-  fixed `#736 <http://sphinxsearch.com/bugs/view.php?id=736>`__, query
   parser dit not properly handle blended/special char sequence

-  fixed `#726 <http://sphinxsearch.com/bugs/view.php?id=726>`__,
   rotation of an index with a changed attribute count crashed

-  fixed `#687 <http://sphinxsearch.com/bugs/view.php?id=687>`__,
   querying multiple indexes with index weights and sort-by expression
   produced incorrect (unadjusted) weights

-  fixed `#585 <http://sphinxsearch.com/bugs/view.php?id=585>`__,
   (unsupported) string ordinals were silently zeroed out with
   ``docinfo=inline`` (instead of failing)

-  fixed `#583 <http://sphinxsearch.com/bugs/view.php?id=583>`__,
   certain keywords could occasionally crash multiforms

-  fixed that concurrent MVA updates could crash

-  fixed that query parser did not ignore a pure blended token with a
   leading modifier

-  fixed that query parser did not properly handle a modifier followed
   by a dash

-  fixed that substring indexing with ``dict=crc`` did not support
   ``index_exact_words`` and ``zones``

-  fixed that in a rare edge case common subtree cache could crash

-  fixed that empty result set returned the full schema (rather than
   ``SELECT``-ed columns)

-  fixed that SphinxQL did not have a sanity check for (currently
   unsupported) result set schemas over 250 attributes

-  fixed that updates on regular indexes were not binlogged

-  fixed that multi-query optimization check for expressions did not
   handle multi-index case

-  fixed that SphinxSE did not build vs MySQL 5.5 release

-  fixed that ``proximity_bm25`` ranker could yield incorrect weight on
   duplicated keywords

-  fixed that prefix expansion with ``dict=keyword`` occasionally
   crashed

-  fixed that ``strip_path`` did not work on RT disk chunks

-  fixed that exclude filters were not properly logged in
   ``query_log_format=sphinxql`` mode

-  fixed that plain string attribute check in ``indextool`` ``--check``
   was broken

-  fixed that Java API did not let specify a connection timeout

-  fixed that ordinal and wordcount attributes could not be fetched via
   SphinxQL

-  fixed that in a rare edge case ``OR/ORDER`` would not match properly

-  fixed that sending (huge) query response did not handle ``EINTR``
   properly

-  fixed that ``SPH04`` ranker could yield incorrectly high weight in
   some cases

-  fixed that C API did not let zero out cutoff, ``max_matches``
   settings

-  fixed that on a persistent connection there were occasionally issues
   handling signals while doing network reads/waitss

-  fixed that in a rare edge case (field start modifier in a certain
   complex query) querying crashed

-  fixed that snippets did not support ``dist_threads`` with
   ``load_files=0``

-  fixed that in some extremely rare edge cases tiny parts of an index
   could end up corrupted with ``dict=keywords``

-  fixed that field/zone conditions were not propagated to expanded
   keywords with ``dict=keywords``

.. raw:: html

   </div>

.. raw:: html

   </div>

.. raw:: html

   <div class="navfooter">

--------------

+---------------------------------------------+---------------------------+------------------------------------------+
| `Prev <rel203.html>`__                      | `Up <changelog.html>`__   |  `Next <rel201.html>`__                  |
+---------------------------------------------+---------------------------+------------------------------------------+
| A.31. Version 2.0.3-release, 23 dec 2011    | `Home <index.html>`__     |  A.33. Version 2.0.1-beta, 22 apr 2011   |
+---------------------------------------------+---------------------------+------------------------------------------+

.. raw:: html

   </div>
